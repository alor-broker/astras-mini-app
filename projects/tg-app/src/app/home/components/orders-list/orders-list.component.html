@for (order of orders$ | async; track order) {
  <div
    class="d-flex flex-row align-items-center flex-gap-3 item cursor-pointer"
    (click)="selectItem.emit(order)"
  >
    <div
      class="align-self-stretch"
      [ngClass]="{
      'order-side': true,
      'buy-bgr': order.side === Sides.Buy,
      'sell-bgr': order.side === Sides.Sell,
      'inactive-bgr': order.status === Statuses.Canceled || order.status === Statuses.Rejected
      }"
    >&nbsp;
    </div>
    <div class="d-flex align-items-center justify-content-center">
      @switch (order.status) {
        @case (Statuses.Canceled) {
          <span nz-icon nzType="stop" nzTheme="outline" class="inactive-color"></span>
        }
        @case (Statuses.Filled) {
          <span nz-icon nzType="check" nzTheme="outline" class="buy-color"></span>
        }
        @default {
          <span nz-icon nzType="hourglass" nzTheme="outline"></span>
        }
      }
    </div>
    <div>
      <nz-avatar
        #avatar
        [nzText]="order.symbol"
        [nzSize]="32"
        nzGap='4'
        [nzSrc]="getIconUrl(order)">
      </nz-avatar>
    </div>
    <div
      class="d-flex flex-row flex-fill"
      [class.bottom-border]="!$last"
    >
      <div class="d-flex flex-column flex-fill">
        <div>
          <span nz-typography nzEllipsis>
            <strong>{{ order.symbol }}</strong>
          </span>
        </div>
        <div>
          {{ order.qtyBatch | number }} л.
        </div>
      </div>

      <div class="d-flex flex-column">
        <div [ngClass]="{
              'buy-color': order.side === Sides.Buy,
              'sell-color': order.side === Sides.Sell,
        }"
        >
          {{ order.price | number: '1.0-6' }}
        </div>
        @if (order.volume != null) {
          <div>
            {{ order.volume | number: '1.0-6' }} ₽
          </div>
        }
      </div>
      <span nz-icon nzType="right" nzTheme="outline"></span>
    </div>
  </div>
} @empty {
  <span>В текущей торговой сессии заявок не было.</span>
}
