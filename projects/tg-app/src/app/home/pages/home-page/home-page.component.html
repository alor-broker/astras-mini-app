<div class="d-flex flex-column">
  <div class="d-flex flex-column">
    <div class="header d-flex justify-content-end">
      <div>
        <tga-portfolio-selection></tga-portfolio-selection>
      </div>
    </div>

    <div class="portfolio-summary">
      <tga-portfolio-evaluation></tga-portfolio-evaluation>
    </div>

    <div class="ideas">
      Инвестиционные идеи
      <a
        nz-button
        nzSize="small"
        nzType="link"
        (click)="changeInvestmentIdeasVisibility(true)"
      >
        Ещё
      </a>
    </div>
  </div>

  <div class="d-flex flex-column">
    <div class="links">
      Ссылки
    </div>

    <div class="portfolio-details d-flex flex-column">
      <nz-collapse nzExpandIconPosition="end">
        <nz-collapse-panel nzHeader="Позиции">

        </nz-collapse-panel>

        <nz-collapse-panel nzHeader="Сделки">

        </nz-collapse-panel>

        <nz-collapse-panel nzHeader="Заявки">

        </nz-collapse-panel>
      </nz-collapse>
    </div>
  </div>
</div>

<nz-drawer
  [nzTitle]="investmentIdeasTitle"
  nzPlacement="bottom"
  nzHeight="100%"
  [nzClosable]="false"
  [nzVisible]="investmentIdeasVisible$ | async"
  (nzOnClose)="changeInvestmentIdeasVisibility(false)"
>
  <ng-container *nzDrawerContent>
    <tga-investment-ideas (onBack)="changeInvestmentIdeasVisibility(false)"></tga-investment-ideas>
  </ng-container>
</nz-drawer>

<ng-template #investmentIdeasTitle>
  <div class="d-flex align-items-center">
  @if (!isBackButtonAvailable) {
    <button
      nz-button
      nzType="text"
      class="mr-15"
      (click)="changeInvestmentIdeasVisibility(false)"
    >
      <span nz-icon nzType="left" nzTheme="outline"></span>
    </button>
  }
  <h3 class="mb-0">Инвестиционные идеи</h3>
  </div>
</ng-template>
